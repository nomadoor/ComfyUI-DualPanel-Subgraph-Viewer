# ComfyUI Dual Panel Subgraph Viewer

ComfyUIのフロントエンド拡張です。  
サブグラフを開く際にメインキャンバスを置き換えるのではなく、画面右側にパネルとして同時に表示・編集できるようにします。

---

> **重要**
>
> 本拡張は「サブグラフを2カラムで表示できたらどうか？」という発想を検証するための**デモンストレーション的実装**です。  
> 実験的であり、**安定性や実用性は一切保証されません**。  
> 動作が不安定になる、あるいはクラッシュする可能性があります。

---

## 概要
https://github.com/user-attachments/assets/ef51bdcf-4bef-4a71-bff0-f03aa01e661f
- サブグラフノード右上のアイコンをクリック、またはノードをダブルクリックすると、右側に編集パネルが展開されます。
- パネル端をドラッグすることで幅を変更できます。
- 右上の `Close` ボタンでパネルを閉じることができます。

---

## 技術的限界・既知の問題

- キャンバスをダブルクリックして開くメニューは、Vue版が利用できなかったためレガシーメニューのみ使用しています。
- `CLIP Text Encode` ノードなどのマルチテキスト入力欄は、サブグラフ側では Vue コンポーネントが初期化されないため使用できません。  
  （サブグラフキャンバスが ComfyUI のメイン Vue コンテキストと独立しており、入力イベントの再バインドが行えないため）
- メインパネルとサブパネルの両方でノードを同時に選択できてしまうため、マウスをサブパネルに移動するとメイン側の選択が解除されます。
- サブグラフ上のノードに対して `Ctrl + C / V` が機能しません。
- サブグラフパネルの幅を変更する際、描画が一時的に乱れることがあります。
- サブグラフ内でノードを削除すると、`Nothing Selected` というメッセージが表示されることがあります。

---

## 注意事項

この拡張は**実験的な概念実証（proof of concept）**です。  
今後のComfyUIの更新によって動作しなくなる可能性があります。  
日常的な利用や商用環境での使用は推奨されません。
